{"ast":null,"code":"var _jsxFileName = \"/home/thetz/cs180project-022-spotters/spotters/client/src/components/analytics.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Bar } from \"react-chartjs-2\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport Feature1 from './feature1';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Analytics extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeCountryF2 = this.onChangeCountryF2.bind(this);\n    this.onGoF2 = this.onGoF2.bind(this);\n    this.state = {\n      F2Data: {\n        labels: [],\n        datasets: []\n      },\n      F3Data: {\n        labels: [],\n        datasets: []\n      },\n      rankF1: \"\",\n      countryF1: \"Global\",\n      dateF1: \"\",\n      countryF2: \"Global\"\n    };\n  }\n\n  onChangeCountryF2(e) {\n    this.setState({\n      countryF2: e.target.value\n    });\n  }\n\n  onGoF2(e) {\n    axios.post(\"http://localhost:5000/posts/analytics/f2\", this.state.countryF2);\n    this.setState({\n      countryF2: \"Global\"\n    });\n    this.updateF2Chart();\n  }\n\n  componentDidMount() {\n    //this.updateF1Chart();\n    this.updateF2Chart();\n    this.updateF3Chart();\n  }\n\n  updateF2Chart() {\n    let F2Data = {}; //Need to pass in labels, and data\n\n    fetch('http://localhost:5000/posts/analytics/f2').then(res => res.json()).then(data => {\n      F2Data = data;\n    });\n    this.setState({\n      F2Data: {\n        labels: F2Data.labels,\n        datasets: [{\n          label: \"Top Genres by Country\",\n          data: F2Data.data,\n          backgroundColor: [\"rgba(22, 22, 29, 0.5)\"]\n        }]\n      }\n    });\n  }\n\n  updateF3Chart() {\n    let F3Data = {}; //Need to pass in labels, and data\n\n    fetch('http://localhost:5000/posts/analytics/f3').then(res => res.json()).then(data => {\n      F3Data = data;\n    });\n    this.setState({\n      F3Data: {\n        labels: F3Data.labels,\n        datasets: [{\n          label: \"Which Artists have the most songs in top 10\",\n          data: F3Data.data,\n          backgroundColor: [\"rgba(22, 22, 29, 0.5)\"]\n        }]\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Feature1, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n;","map":{"version":3,"sources":["/home/thetz/cs180project-022-spotters/spotters/client/src/components/analytics.js"],"names":["React","Component","axios","Bar","Container","Row","Col","Feature1","Analytics","constructor","props","onChangeCountryF2","bind","onGoF2","state","F2Data","labels","datasets","F3Data","rankF1","countryF1","dateF1","countryF2","e","setState","target","value","post","updateF2Chart","componentDidMount","updateF3Chart","fetch","then","res","json","data","label","backgroundColor","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Bar } from \"react-chartjs-2\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport Feature1 from './feature1';\n\nexport default class Analytics extends Component {\n    constructor(props) {\n        super(props);\n\n        this.onChangeCountryF2 = this.onChangeCountryF2.bind(this);\n        this.onGoF2 = this.onGoF2.bind(this);\n\n        this.state = {\n            F2Data: {\n                labels: [],\n                datasets: [],\n            },\n            F3Data: {\n                labels: [],\n                datasets: [],\n            },\n            rankF1: \"\",\n            countryF1: \"Global\",\n            dateF1: \"\",\n            countryF2: \"Global\",\n        };\n    };\n\n    onChangeCountryF2(e) { this.setState({ countryF2: e.target.value }); };\n\n    onGoF2(e) {\n        axios\n            .post(\"http://localhost:5000/posts/analytics/f2\", this.state.countryF2);\n\n        this.setState({\n            countryF2: \"Global\",\n        });\n\n        this.updateF2Chart();\n    };\n\n    componentDidMount() {\n        //this.updateF1Chart();\n        this.updateF2Chart();\n        this.updateF3Chart();\n    };\n\n    updateF2Chart() {\n        let F2Data = {};\n\n        //Need to pass in labels, and data\n        fetch('http://localhost:5000/posts/analytics/f2')\n            .then(res => res.json())\n            .then((data) => { F2Data = data; });\n\n        this.setState({\n            F2Data: {\n                labels: F2Data.labels,\n                datasets: [{\n                    label: \"Top Genres by Country\",\n                    data: F2Data.data,\n                    backgroundColor: [\"rgba(22, 22, 29, 0.5)\"]\n                }],\n            }\n        });\n    };\n\n    updateF3Chart() {\n        let F3Data = {};\n\n        //Need to pass in labels, and data\n        fetch('http://localhost:5000/posts/analytics/f3')\n            .then(res => res.json())\n            .then((data) => { F3Data = data; });\n\n        this.setState({\n            F3Data: {\n                labels: F3Data.labels,\n                datasets: [{\n                    label: \"Which Artists have the most songs in top 10\",\n                    data: F3Data.data,\n                    backgroundColor: [\"rgba(22, 22, 29, 0.5)\"]\n                }],\n            }\n        })\n    };\n\n    render() {\n        return (\n            <div>\n                <Container fluid>\n                    <Row>\n                        <Feature1 />\n\n                    </Row>\n                </Container>\n            </div >\n        );\n    };\n};\n"]},"metadata":{},"sourceType":"module"}